<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A special birthday greeting with animated effects">
    <title>Happy Birthday | Anubhav</title>
    
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap">
    
    <script src="script.js" type="module" defer></script>

    <audio id="background-music" loop autoplay>
        <source src="assets/HappyBirthday(1).mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
</head>
<body>
    <div class="bbl">
        <div id="bubbleGen"></div>
    </div>
    
        <div class="box-c">
            <div class="cirle-box">
                <div class="outer-circle">
                    <div class="inner-circle"></div>
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
            <div class="container">
                <div class="cloud">
                    <h2>Happy Birthday</h2>
                </div>
            </div>
        </div>
        <div class="cake-container">
              <div class="cake">
                <div class="cake-top"></div>
                <div class="cake-middle"></div>
                <div class="cake-bottom"></div>
                <div class="plate"></div>
                <div class="candle">
                  <div class="flame"></div>
                </div>
                <div class="smoke">ðŸ’¨</div>
              </div>
              <div class="cake-sparkles"></div>
              <div class="cake-background">
                <div class="confetti"></div>
                <div class="confetti"></div>
                <div class="confetti"></div>
                <div class="confetti"></div>
                <div class="confetti"></div>
                <div class="confetti"></div>
                <div class="confetti"></div>
              </div>
              <div class="stars"></div>
              <div class="stars"></div>
              <div class="stars"></div>
              <div class="stars"></div>
        </div>       
        <script>
            // Create Continue Button
            const continueButton = document.createElement('button');
            continueButton.textContent = 'ðŸŽ‚ Continue';
            continueButton.classList.add('continue-button'); // Apply new CSS class

            // Redirect to cake section (you need to have a section with id="cake")
            continueButton.addEventListener('click', () => {
                document.querySelectorAll('.box-c, .container, .bbl, .continue-button').forEach(el => el.style.display = 'none'); 
                document.getElementById('cake').style.display = 'flex'; // Show the cake
            });

            document.body.appendChild(continueButton);

            // Add this script to start music on page load
            document.addEventListener('DOMContentLoaded', function() {
                const music = document.getElementById('background-music');
                music.volume = 0.3; // Set volume to 30%
            
                // Add a play button for user control
                const playButton = document.createElement('button');
                playButton.textContent = 'ðŸŽµ Toggle Music';
                playButton.classList.add('music-toggle');
    
                playButton.addEventListener('click', () => {
                    if (music.paused) {
                        music.play();
                    } else {
                        music.pause();
                    }
                });
                document.body.appendChild(playButton);
    
                // Attempt to play music (may be blocked by browser autoplay restrictions)
                music.play().catch(error => {
                    console.log('Autoplay was prevented. User interaction required.');
                });
            });

            function randomText() {
                var text = ["Happy Birthday", "Shikha"];
                return text[Math.floor(Math.random() * text.length)];
            }
    
            function rain() {
                let cloud = document.querySelector('.cloud');
                let e = document.createElement('div');
                e.classList.add('drop');
                cloud.appendChild(e);
    
                let left = Math.floor(Math.random() * 300);
                let size = Math.random() * 1.5;
                let duration = Math.random() * 1;
    
                e.innerText = randomText();
                e.style.left = left + 'px';
                e.style.fontSize = 0.5 + size + 'em';
                e.style.animationDuration = 1 + duration + 's';
    
                setTimeout(function () {
                    cloud.removeChild(e);
                }, 5000);
            }
    
            setInterval(function () {
                rain();
            }, 250);
        </script>
</body>
</html>